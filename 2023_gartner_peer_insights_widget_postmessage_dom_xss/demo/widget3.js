// Taken from https://www.gartner.com/reviews/public/Widget/js/widget.js between January 14 2023 and January 26 2023
// Archive.org link: https://web.archive.org/web/20230114214433/https://www.gartner.com/reviews/public/Widget/js/widget.js
var GartnerPI_Widget=function(e){return new function(e){var t=this,i="//www.gartner.com",n="/reviews/home",r="/reviews/public/Widget/",a=function(e){console&&(console.log,Function)},s=function(e){return e=e||{},t.widget_id=e.widget_id,t.widget_id?(t.size=!e.size||"small"!==e.size&&"large"!==e.size&&"line"!==e.size?"small":e.size,t.theme=!e.theme||"light"!==e.theme&&"dark"!==e.theme?"light":e.theme,t.sourcingLink=e.sourcingLink||null,t.version=e.version||1,e.container&&e.container.nodeType&&1===e.container.nodeType?(t.container=e.container,d(),g(),S(),u(),void 0):void a("Required: You must specify a DOM element for the widget to render in")):void a("widget_id argument is required")},d=function(){if(!document.getElementById("gartner-pi-styles")){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("id","gartner-pi-styles"),e.setAttribute("type","text/css"),e.setAttribute("href",v()+r+"css/widget.css"),document.getElementsByTagName("head")[0].appendChild(e)}},u=function(){t.dataContainer=t.version<2?document.getElementById("gartner-pi-datacontainer"):document.getElementById("gartner-pi-datacontainer-"+t.widget_id);const e=t.version<2?"gartner-pi-widget-data":"gartner-pi-widget-data-"+t.widget_id;if(window.postMessage instanceof Function){var i=["data?widget_id=",t.widget_id,"&size=",t.size],n=document.createElement("iframe");n.setAttribute("src",v()+r+i.join("")),n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("frameborder",0),n.setAttribute("id",e),t.container.appendChild(n)}else t.dataContainer.appendChild(_()),a("Message API not supported")},o=function(){t.list||(t.list=t.dataContainer.getElementsByTagName("ul")[0]);var e,i=t.list.getElementsByTagName("li")[0],n=i.offsetHeight,r=10,a=t.dataContainer.getElementsByClassName("gartner-pi-reviews")[0],s=setInterval(function(){e=a.scrollTop,e===n?(clearInterval(s),t.list.appendChild(i),setTimeout(o,1e4)):e>n?a.scrollTop-=20:a.scrollTop+=e+r>n?n-e:r},55)};const p=function(e){var t=new Set(["gcom.pdodev.aws.gartner.com","gcom.pdoqa.aws.gartner.com","gartner.com","www.gartner.com"]);try{var i=new URL(e).hostname;return t.has(i)?"APPROVED_URL":"INVALID_URL"}catch(e){return"INVALID_URL"}};var l=function(e){"APPROVED_URL"==p(e.origin)&&A(e.data)},g=function(){window.addEventListener("message",l,{once:!0})},c=function(){window.removeEventListener("message",l),clearTimeout(self.animateId)},v=function(e){e=e||"";var t=window.location.protocol,n=window.location.host;return t+(n.indexOf("gartner.com")>-1?"//"+n:i)+e},h=function(e,i){return i=i||"vendor",e+"?utm_source="+i+"&utm_medium=referral&utm_campaign=widget&utm_content="+t.widget_id},m=function(e,i){if(e){(t.version<2?document.getElementById("gartner-pi-link"):document.getElementById("gartner-pi-link-"+t.widget_id)).href=v(h(e,i))}},f=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],i=new Date(e);if("[object Date]"===Object.prototype.toString.call(i)){var n=i.getDate(),r=i.getFullYear();return t[i.getMonth()]+" "+n+", "+r}return""},w=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=new Date,i=t.getDate(),n=t.getFullYear();return i+" "+e[t.getMonth()]+" "+n},_=function(){var e=document.createElement("div");e.setAttribute("class","gartner-pi-static-content");var t=[];return t.push('<div class="gartner-pi-no-data">'),t.push('<div class="gartner-pi-logo"></div>'),t.push('<h1 class="gartner-pi-default-msg gartner-pi-h1">Please visit Peer Insights to read and write reviews. '),t.push('<span class="gartner-pi-url">gartner.com/reviews</span>'),t.push("</h1>"),t.push("</div>"),e.innerHTML=t.join(""),e},b=function(){return'<div id="'+(t.version<2?"gartner-pi-datacontainer":"gartner-pi-datacontainer-"+t.widget_id)+'"></div>'},y=function(e){var t=Math.round(e/5*100),i=['<span class="gartner-pi-star-rating">'];return i.push('<span class="gartner-pi-star-rating-score" style="width:'+t+'%"></span>'),i.push("</span>"),i.join("")},A=function(e){if((e="object"!=typeof e?JSON.parse(e):null)&&e.widgetId&&e.widgetId===t.widget_id)if(e&&e.error)t.dataContainer.appendChild(_());else if(null!==e&&t.dataContainer)if("line"===t.size)I(e);else if("large"===t.size){if(L(e),e.vendor){var i=_validateString(e.vendor.url),n=_validateString(e.vendor.seoName);m(i,n)}e.reviews&&e.reviews.length&&(self.animateId=setTimeout(o,1e4))}else k(e)},k=function(e){var i=N(e);t.dataContainer.innerHTML=i.join("");var n=_validateString(e.url),r=_validateString(e.seoName);m(n,r)},L=function(e){var i=e.reviews,n=e.vendor,r=N(n);r.push('<div class="gartner-pi-reviews">'),r.push("<ul>");for(var a=0;a<i.length;a++){var s=i[a],d=_validateString(s.headline);r.push("<li>"),r.push('<div class="gartner-pi-rating-container">'),r.push(y(_validateNumber(s.rating))),r.push('<span class="gartner-pi-datestamp">'),r.push("Reviewed "+f(s.date)),r.push("</span>"),r.push("</div>"),r.push('<p class="gartner-pi-quote">"'+d+'..." '),r.push("<span>(read more)</span></p>"),r.push("</li>")}r.push("</ul>"),r.push("</div>"),t.dataContainer.innerHTML=r.join("")},N=function(e){var i=[],n=_validateNumber(e.rating),r=_validateNumber(e.score),a=_validateNumber(e.reviewCount),s=_validateString(e.name),d=_validateString(e.market);return i.push('<div class="gartner-pi-gradient"></div>'),i.push('<div class="gartner-pi-card">'),i.push('<div class="gartner-pi-logo"></div>'),i.push('<div class="gartner-pi-header">'),i.push('<h1 class="gartner-pi-h1">'+s+"</h1>"),i.push('<h2 class="gartner-pi-h2">'+d+"</h2>"),i.push("</div>"),i.push('<div class="gartner-pi-stats">'),i.push('<div class="gartner-pi-alignLeft">'),i.push('<div class="gartner-pi-overall-rating">'),i.push('<span class="gartner-pi-score">'+n+"</span>"),i.push(y(n)),i.push("</div>"),i.push('<div class="gartner-pi-reviews-link">'),i.push("<span>"+a+" Rating"+(a>1?"s":"")+" "),i.push('<span class="gartner-pi-chevron"></span>'),i.push("</span>"),i.push("</div>"),i.push("</div>"),i.push('<div class="gartner-pi-alignRight">'),t.sourcingLink?(i.push('<div class="gartner-pi-sourcing-link">'),i.push('<a id="'+t.sourcingLink+'" href="'+t.sourcingLink+'" target="_blank">Submit a review</a>'),i.push('<span class="gartner-pi-chevron"></span>'),i.push("</div>")):(i.push("<div>"),i.push('<div class="gartner-pi-overall-rating">'),i.push('<span class="gartner-pi-score">'+r+"%</span>"),i.push('<span class="gartner-pi-thumbs-up"></span>'),i.push('<div class="gartner-pi-reviews-link">'),i.push("<span>Recommend</span>"),i.push("</div>"),i.push("</div>"),i.push("</div>")),i.push("</div>"),i.push('<div class="gartner-pi-as-of-date" title="As of '+w()+'">As of '+w()+"</div>"),i.push("</div>"),i.push("</div>"),i},I=function(e){var i=[],n=_validateNumber(e.rating),r=_validateNumber(e.reviewCount),a=_validateString(e.url),s=_validateString(e.seoName);i.push('<div class="gartner-pi-card">'),i.push('<div class="gartner-pi-stats">'),i.push('<div class="gartner-pi-overall-rating">'),i.push('<span class="gartner-pi-score">'+n+"</span>"),i.push('<div class="gartner-pi-translate">'),i.push(y(n)),i.push('<div class="gartner-pi-reviews-link">'),i.push("<span>"+r+" Rating"+(r>1?"s":"")+"</span>"),i.push(" on Gartner Peer Insights</div>"),t.sourcingLink&&(i.push('<div class="gartner-pi-sourcing-link">'),i.push('<a id="'+t.sourcingLink+'" href="'+t.sourcingLink+'" target="_blank">(Submit a review)</a>'),i.push("</div>")),i.push("</div>"),i.push("</div>"),i.push("</div>"),i.push('<div class="gartner-pi-as-of-date" title="As of '+w()+'">As of '+w()+"</div>"),i.push("</div>"),t.dataContainer.innerHTML=i.join(""),m(a,s)},S=function(){var e=h(v(n));const i=t.version<2?"gartner-pi-link":"gartner-pi-link-"+t.widget_id,r=t.version<2?"gartner-pi-widget":"gartner-pi-widget-"+t.widget_id;var a=['<a id="'+i+'" href="'+e+'" class="gartner-pi-link" target="_blank" rel="nofollow" >'];a.push(b()),a.push("</a>");var s=document.createElement("div");s.setAttribute("id",r),s.setAttribute("data-size",t.size),s.setAttribute("data-theme",t.theme),s.innerHTML=a.join(""),t.container.appendChild(s)};return s(e),{stop:c,size:t.size,theme:t.theme,widget_id:t.widget_id}}(e)},_validateString=function(e){if(!("string"==typeof e||e instanceof String))return"";var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.body.childNodes).some(function(e){return 1===e.nodeType})?"":e},_validateNumber=function(e){return Number.isNaN(e)?0:e};